/var/log/{{ apache_daemon }}/*.log {
  {{ apache_logfile_rotate_period | default('daily') }}
  missingok
  rotate {{ apache_logfile_rotate_number | default(14) }}
  compress
  delaycompress
  notifempty
  create 640 root adm
  sharedscripts
  postrotate
                {# pre buster versions
                if /etc/init.d/{{ apache_daemon }} status > /dev/null ; then \
                    /etc/init.d/{{ apache_daemon }} reload > /dev/null; \
                fi;
                #}
                if invoke-rc.d {{ apache_daemon }} status > /dev/null 2>&1; then \
                  invoke-rc.d {{ apache_daemon }} reload > /dev/null 2>&1; \
                fi;  
  endscript
  prerotate
    if [ -d /etc/logrotate.d/httpd-prerotate ]; then \
      run-parts /etc/logrotate.d/httpd-prerotate; \
    fi; \
  endscript
}

